# –õ–µ—Å—Ç–∞ –°—Ç–∞—Ä—Ç: TF-IDF –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞"
## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞, –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ –Ω–∞ django. –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∑–∞–ø–∏—Å–∞–Ω—ã –≤ —Ñ–∞–π–ª–µ requiremtnts.txt
```text
üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞  
‚îî‚îÄ‚îÄ üìÇ test/  
    ‚îú‚îÄ‚îÄ üìÇ main/  
    ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ migrations/  
    ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ static/  
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ main/  
    ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÇ css/  
    ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÇ img/   
    ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÇ js/  
    ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ üìÇ other/  
    ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ templates/  
    ‚îú‚îÄ‚îÄ üìÇ test/  
    ‚îú‚îÄ‚îÄ üìÇ uploads/  
    ‚îú‚îÄ‚îÄ üìÑ docker-compose.yml
    ‚îú‚îÄ‚îÄ üìÑ Dockerfile  
    ‚îú‚îÄ‚îÄ üìÑ manage.py  
    ‚îî‚îÄ‚îÄ üìÑ requirements.txt  
```
## –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 
### –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Git —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
```bush
sudo apt update
sudo apt install git
```
### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
```bush
git clone https://github.com/LesostepnoyGnom/Lesta_Games
```
### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
```bush
# –∏–∑ –ø–∞–ø–∫–∏ /test –∑–∞–ø—É—Å—Ç–∏—Ç–µ docker-compose
docker-compose up --build
```
## –û–ø–∏—Å–∞–Ω–∏–µ
–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –≤–∏–¥–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å —Ñ–æ—Ä–º–æ–π –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞, –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å —Ç–∞–±–ª–∏—Ü–µ–π –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—Å—Ç–∞ —Å –ø–µ—Ä–≤—ã–º–∏ 50 –∑–∞–ø–∏—Å—è–º–∏.

–ó–∞–≥—Ä—É–∂–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–∫–ª—é—á–µ—Ç–µ–ª—å–Ω–æ —Ñ–∞–π–ª—ã —Ñ–æ—Ä–º–∞—Ç–∞ .txt. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–æ—Å—Ç—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–∞. –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª –∏–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è, –ø—Ä–æ–≥—Ä–∞–º–º–∞ –≤—ã–¥–∞—Å—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ–ª—å–∫–æ .txt. –¢–∞–∫–∂–µ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ.
–í –∑–∞–≥—Ä—É–∂–∞–µ–º–æ–º —Ñ–∞–π–ª–µ –≤—Å–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –±–ª–æ–∫–∏ (–¥–æ–∫—É–º–µ–Ω—Ç—ã) –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–æ–π –∏ –Ω–∏–∫–∞–∫ –∏–Ω–∞—á–µ. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–ª–∏ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤–æ–≤—Å–µ.

–¢–∞–±–ª–∏—Ü–∞ —Å –∞–Ω–∞–ª–∏–∑–æ–º –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–ª—è:  
*id* - –Ω–æ–º–µ—Ä –∑–∞–ø–∏—Å–∏  
*word* - —Å–ª–æ–≤–æ  
*tf* - —á–∞—Å—Ç–æ—Ç–∞ —Å–ª–æ–≤–∞  
*idf* - –æ–±—Ä–∞—Ç–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞

–ß–∞—Å—Ç–æ—Ç–∞ —Å–ª–æ–≤–∞ tf —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–ª–∞—Å—å –∫–∞–∫
```math
tf(t, d) = \frac{n_{t}}{\sum_{k} n_{k}}
```
–≥–¥–µ n‚Çú - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Ö–æ–∂–¥–µ–Ω–∏–π —Ç–µ—Ä–º–∏–Ω–∞ t –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ, –∞ Œ£‚Çñn‚Çñ - —Å—É–º–º–∞ –≤—Ö–æ–∂–¥–µ–Ω–∏–π –≤—Å–µ—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ

–û–±—Ä–∞—Ç–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ idf —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–ª–∞—Å—å –∫–∞–∫
```math
idf(t, D) = \log \frac{D}{|\{d_i \in D: t \in d_i\}|}
```
–≥–¥–µ D - —á–∏—Å–ª–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏, –∞ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å —á–∏—Å–ª–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ D, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è —Å–ª–æ–≤–æ t

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ tf –∏ idf –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ç—É—Ç: https://ru.wikipedia.org/wiki/TF-IDF

–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∑–∞–ø–∏—Å–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ –ø–æ–ª—é idf –≤ –ø–æ—Ä—è–¥–∫–µ —É–±—ã–≤–∞–Ω–∏—è, –∑–∞—Ç–µ–º –ø–æ –ø–æ–ª—é tf –≤ –ø–æ—Ä—è–¥–∫–µ —É–±—ã–≤–∞–Ω–∏—è –∏ –¥–∞–ª–µ–µ –ø–æ –ø–æ–ª—é word –ø–æ –ª–µ–∫—Å–∏–∫–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–º—É –ø–æ—Ä—è–¥–∫—É.

–ï—Å–ª–∏ –ø–æ–¥ —Ä—É–∫–æ–π —É –≤–∞—Å –Ω–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞, —Ç–æ –¥–ª—è –¥–µ–º–æ—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º–µ—é—â–∏–π—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ —Ñ–∞–π–ª test_texts.txt

## –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞
–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ñ–∞–π–ª–µ test/main/functions.py  
–î–ª—è —Ä–∞—Å—á—ë—Ç–∞ tf –∏ idf –Ω–∞–¥ —Ç–µ–∫—Å—Ç–æ–º –≤ —Ö–æ–¥–µ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ñ–∞–π–ª–∞ —Å–æ–≤–µ—Ä—à–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:  
1) –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É  
2) —É–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –Ω–µ–±—É–∫–≤–µ–Ω–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤  
3) —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–æ–ø —Å–ª–æ–≤ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π nltk  
4) –ª–µ–º–º–∞—Ç–∏–∑–∞—Ü–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π pymorphy3
   
–î–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–∫–ª—é—á–∏—Ç—å —á–∞—Å—Ç–∏—Ü—ã, –ø—Ä–µ–¥–ª–æ–≥–∏ –∏ –¥—Ä—É–≥–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –Ω–µ—Å—É—Ç –≤–∞–∂–Ω–æ–≥–æ —Å–º—ã—Å–ª–∞ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∑–∞–¥–∞—á. –õ–µ–º–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –≤—Å–µ —Å–ª–æ–≤–∞ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é —Ñ–æ—Ä–º—É –∏ —Å—á–∏—Ç—ã–≤–∞—Ç—å —Å–ª–æ–≤–∞ –Ω–µ –∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ñ–æ—Ä–º—ã.  
–ï—Å–ª–∏ –∏–∑-–∑–∞ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∏ –≤–∞—à–µ–π –∑–∞–¥–∞—á–∏ –≤–∞–º –≤–∞–∂–Ω—ã —á–∞—Å—Ç–∏—Ü—ã, –ø—Ä–µ–¥–ª–æ–≥–∏ –∏–ª–∏ —Ñ–æ—Ä–º–∞ —Å–ª–æ–≤, —Ç–æ –¥–∞–Ω–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –≤ —á–∏—Å—Ç–æ–º –≤–∏–¥–µ –≤–∞–º –Ω–µ –ø–æ–¥–æ–π–¥—ë—Ç.

## –ó–∞–º–µ—á–∞–Ω–∏—è
–ü—Ä–æ–µ–∫—Ç –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –≤ –≤–∏–¥–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π, ~~–∞ —Ç–∞–∫–∂–µ —Å–ª–µ–¥—ã –æ—Ä–∞—Ö–∏—Å–∞ —è–∏—Ü –∏ —Å–æ–∏...~~. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ —ç—Ç–æ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞.
